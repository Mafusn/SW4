LDX #2
TXA
PHA
TSX
INX
LDA $0100, x
STA $0100
LDX #2
STX $0101
LDX #3
STX $0102
LDA $0100
ADC $0101
SBC $0102
BCS carry0
ADC #1
CLC
JMP carryend0
carry0:
CLC
ADC #1
carryend0:
TAX
TXA
TSX
INX
STA $0100, x
LDX #4
TXA
PHA
TSX
INX
TXA
TAY
LDX $0100, y
TXA
PHA
TSX
INX
INX
TXA
TAY
LDX $0100, y
PLA
STX $0100
CLC
CMP $0100
BNE false2
LDA #1
JMP store2
false2:
 LDA #0
store2:
  PHA
PLA
CMP #1
BNE else1
ifthen1:
LDX #1
TXA
PHA
TSX
INX
TXA
TAY
LDX $0100, y
TXA
PHA
LDX #1
PLA
STX $0100
CLC
CMP $0100
BNE false3
LDA #1
JMP store3
false3:
 LDA #0
store3:
  PHA
PLA
CMP #1
BNE end2
ifthen2:
LDX #2
TXA
PHA
LDX #3
TXA
TSX
INX
INX
STA $0100, x
PLA
end2:
PLA
JMP end1
else1:
LDX #2
TXA
PHA
PLA
end1:
BRK
