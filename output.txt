LDX #0
TXA
PHA
LDX #1
TXA
PHA
LDX #5
TXA
PHA
LDX #2
TXA
PHA
while0:
TSX
INX
TXA
TAY
LDX $0100, y
TXA
PHA
TSX
INX
INX
INX
TXA
TAY
LDX $0100, y
PLA
STX $0100
CLC
CMP $0100
BEQ false1
BCS false1
LDA #1
JMP store1
false1:
 LDA #0
store1:
PHA
PLA
CMP #1
BNE end0
TSX
INX
INX
INX
INX
TXA
TAY
LDX $0100, y
STX $0100
TSX
INX
INX
INX
TXA
TAY
LDX $0100, y
STX $0101
LDA $0100
CLC
ADC $0101
PHA
TSX
INX
INX
INX
INX
TXA
TAY
LDX $0100, y
TXA
TSX
INX
INX
INX
INX
INX
STA $0100, x
TSX
INX
TXA
TAY
LDX $0100, y
TXA
TSX
INX
INX
INX
INX
STA $0100, x
TSX
INX
INX
TXA
TAY
LDX $0100, y
STX $0100
LDX #1
STX $0101
LDA $0100
CLC
ADC $0101
TAX
TXA
TSX
INX
INX
STA $0100, x
PLA
JMP while0
end0:
JMP Final
Final:
